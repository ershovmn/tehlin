{"version":3,"sources":["panels/FirstLogin.js","panels/Report/ReportDraggingList.js","panels/Reports.js","panels/Home.js","App.js","index.js"],"names":["FirstLogin","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","sendForm","state","firstName","length","lastName","groupID","console","log","fetch","sessionStorage","getItem","method","headers","Content-Type","body","JSON","stringify","userid","userID","firstname","lastname","middlename","middleName","groupid","gender","then","data","json","setItem","token","props","go","fetchedUser","_this2","connect","sendPromise","last_name","setState","first_name","id","sex","catch","error","_this3","flag","react_default","a","createElement","es6","top","value","onChange","e","target","status","size","disabled","onClick","React","Component","ReportDraggingList","addElement","activeModal","addNewElement","elementID","items","push","type","inputType","modify","description","editElement","item","editItem","itemID","uploadFiles","inputFiles","_this$state","files","newItems","map","i","name","formdata","FormData","append","loadReport","concat","reportID","tehnarenok-token","blob","url","window","URL","createObjectURL","document","href","download","report","click","activePanel","popout","goTo","modal","onClose","settlingHeight","header","right","platform","IOS","done_default","structureFrontend","indexOf","key","_this3$state","title","left","chevron_back_default","back_default","multiple","index","onDragFinish","_ref","from","to","isNaN","before","style","marginLeft","splice","draggable","Reports","onRefresh","reports","onClickReport","isFetching","Report_ReportDraggingList","accept","_id","discription","structureID","Home","activeStory","superuser","tabbar","selected","text","note_default","logo_livejournal_default","settings_default","panels_Reports","App","panel","panels_FirstLogin","panels_Home","send","subscribe","detail","schemeAttribute","createAttribute","scheme","attributes","setNamedItem","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.fe2a4621.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport {View, Panel, FormLayout, Input, Select, Button, PanelHeader} from '@vkontakte/vkui'\r\nimport connect from '@vkontakte/vk-connect'\r\n\r\nclass FirstLogin extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            firstName: '',\r\n            lastName: '',\r\n            middleName: '',\r\n            userID: null,\r\n            groupID: '',\r\n            gender: true,\r\n            fetchedUser: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        \r\n        \r\n        connect.sendPromise('VKWebAppGetUserInfo', {})\r\n\t\t\t.then(data => {\r\n                console.log(data)\r\n                //this.setState({ fetchedUser: data})\r\n                if(data.last_name === 'Мещерская') {\r\n                    data.last_name = 'Ерщерская'\r\n                }\r\n                if(data.last_name === 'Ершов') {\r\n                    data.last_name = 'Ерщерский'\r\n                }\r\n\r\n                this.setState({\r\n                    firstName: data.first_name,\r\n                    lastName: data.last_name,\r\n                    middleName: '',\r\n                    userID: data.id,\r\n                    groupID: '',\r\n                    gender: data.sex === 2,\r\n                })\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(error)\r\n\t\t\t})\r\n    }\r\n\r\n    sendForm = () => {\r\n        if(!(this.state.firstName.length > 0 &&\r\n            this.state.lastName.length > 0 &&\r\n            this.state.groupID.length > 0)) {\r\n            return\r\n        } else {\r\n            console.log('hello')\r\n            fetch(sessionStorage.getItem('address') + '/api/v0/firstlogin', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    userid: this.state.userID,\r\n                    firstname: this.state.firstName,\r\n                    lastname: this.state.lastName,\r\n                    middlename: this.state.middleName,\r\n                    groupid: this.state.groupID,\r\n                    gender: this.state.gender\r\n                })\r\n            }).then(data => {\r\n                return data.json()\r\n            }).then(data => {\r\n                sessionStorage.setItem('token', data.token)\r\n                this.props.go('home')\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        var flag = (this.state.firstName.length > 0) &&\r\n            (this.state.lastName.length > 0) &&\r\n            (this.state.groupID.length > 0)\r\n        \r\n        return (\r\n            <Panel id={this.props.id}>\r\n                <PanelHeader>\r\n                    Регистрация\r\n                </PanelHeader>\r\n                <p>\r\n                    Внимание!!!\r\n                </p>\r\n                <p>\r\n                    ФИО изменить после регистрации можно только с помощью модератора!\r\n                </p>\r\n                <p>\r\n                    Данное ФИО будет использовано в поле отчета \"выполнил\"\r\n                </p>\r\n                <FormLayout>\r\n                    <Input \r\n                        top=\"Фамилия\"\r\n                        value={this.state.lastName}\r\n                        onChange={(e) => this.setState({lastName: e.target.value})}\r\n                        status={this.state.lastName.length > 0 ? 'valid' : 'error'}\r\n                    />\r\n                    <Input \r\n                        top=\"Имя\"\r\n                        value={this.state.firstName}\r\n                        onChange={(e) => this.setState({firstName: e.target.value})}\r\n                        status={this.state.firstName.length > 0 ? 'valid' : 'error'}\r\n                    />\r\n                    <Input \r\n                        top=\"Отчество\"\r\n                        value={this.state.middleName}\r\n                        onChange={(e) => this.setState({middleName: e.target.value})}\r\n                        status={'valid'}\r\n                    />\r\n                    <Select \r\n                        value={this.state.gender ? \"m\" : \"f\"} \r\n                        top=\"Пол\" \r\n                        onChange={(e) => this.setState({gender: e.target.value === \"m\"})}\r\n                        status={'valid'}\r\n                    >\r\n                        <option value=\"m\">Мужской</option>\r\n                        <option value=\"f\">Женский</option>\r\n                    </Select>\r\n                    <Input \r\n                        top=\"Номер группы\"\r\n                        value={this.state.groupID}\r\n                        onChange={(e) => this.setState({groupID: e.target.value})}\r\n                        status={this.state.groupID.length > 0 ? 'valid' : 'error'}\r\n                    />\r\n                    <Button size=\"xl\" disabled={!flag} onClick={() => this.sendForm()}>Зарегистрироваться</Button>\r\n                </FormLayout>\r\n            </Panel>\r\n        )\r\n    }\r\n}\r\n\r\nexport default FirstLogin","import React from 'react'\r\n\r\nimport {View, Panel, PanelHeader, ScreenSpinner, Group, List, Cell, platform, IOS, HeaderButton, Input, Button, ModalRoot, ModalPage, ModalPageHeader, ModalCard, Textarea, Div} from '@vkontakte/vkui'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon24Done from '@vkontakte/icons/dist/24/done';\r\n\r\nclass ReportDraggingList extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'main',\r\n            activeModal: null,\r\n            name: 'hello',\r\n            popout: <ScreenSpinner />,\r\n            report: {},\r\n            items: [],\r\n            editItem: null,\r\n            itemID: null,\r\n            files: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(`${sessionStorage.getItem('address')}/api/v0/report/${this.props.reportID}/getdata`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'tehnarenok-token': sessionStorage.getItem('token')\r\n            }\r\n        }).then(data => {\r\n            return data.json()\r\n        }).then(data => {\r\n            if(data.error) {\r\n                this.props.goTo('error')\r\n                return\r\n            }\r\n            this.setState({report: data.report, popout: null})\r\n        })\r\n    }\r\n\r\n    addElement = () => {\r\n        this.setState({activeModal: 'addelement'})\r\n    }\r\n\r\n    addNewElement = (elementID) => {\r\n        var {items} = this.state \r\n        \r\n        if(elementID[0] === 'h') {\r\n            items.push({\r\n                type: elementID,\r\n                inputType: 'string',\r\n                modify: true,\r\n                description: elementID,\r\n                value: ''\r\n            })\r\n        } else if (elementID === 'text') {\r\n            items.push({\r\n                type: 'text',\r\n                inputType: 'text',\r\n                modify: true,\r\n                description: elementID,\r\n                value: ''\r\n            })\r\n        }\r\n        \r\n        this.setState({items: items})\r\n    }\r\n\r\n    editElement = (id) => {\r\n        var {items} = this.state\r\n        var item = items[id]\r\n        if(!item.modify) {\r\n            return\r\n        }\r\n\r\n        this.setState({\r\n            activeModal: 'edit',\r\n            editItem: item,\r\n            itemID: id\r\n        })\r\n\r\n    }\r\n\r\n    uploadFiles = (inputFiles) => {\r\n        var {files, items} = this.state\r\n        files = inputFiles\r\n        var newItems = []\r\n        items.map(value => {\r\n            if(value.type !== 'file') {\r\n                newItems.push(value)\r\n            }\r\n        })\r\n        for(var i = 0; i < files.length; i++) {\r\n            var value = files[i]\r\n            newItems.push({\r\n                type: 'file',\r\n                inputType: 'none',\r\n                modify: false,\r\n                description: 'file',\r\n                value: value.name\r\n            })\r\n        }\r\n        this.setState({files: files, items: newItems})\r\n        console.log(inputFiles)\r\n        var formdata = new FormData()\r\n        formdata.append('file', inputFiles[0])\r\n        console.log(formdata);\r\n    }\r\n\r\n    loadReport = () => {\r\n        fetch(`${sessionStorage.getItem('address')}/api/v0/report/${this.props.reportID}/createreport`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'tehnarenok-token': sessionStorage.getItem('token')\r\n            }\r\n        }).then(data => {\r\n            return data.blob()\r\n        }).then(data => {\r\n            console.log(data)\r\n            let url = window.URL.createObjectURL(data)\r\n            console.log(url)\r\n            let a = document.createElement('a')\r\n            a.href = url\r\n            a.download = `${this.state.report.name}.pdf`\r\n            a.click()\r\n        })\r\n    }\r\n\r\n    // loadReport = () => {\r\n    //     console.log(this.state.files)\r\n    //     var formdata = new FormData()\r\n    //     formdata.append('file', this.state.files[0])\r\n    //     console.log(formdata.getAll('file'));\r\n    //     fetch(`${sessionStorage.getItem('address')}/api/v1/report/${this.props.reportID}/createreport`, {\r\n    //         method: 'POST',\r\n    //         headers: {\r\n    //             'tehnarenok-token': sessionStorage.getItem('token'),\r\n    //         },\r\n    //         body: formdata\r\n    //     }).then(data => {\r\n    //         return data.blob()\r\n    //     }).then(data => {\r\n    //         console.log(data)\r\n    //         let url = window.URL.createObjectURL(data)\r\n    //         console.log(url)\r\n    //         let a = document.createElement('a')\r\n    //         a.href = url\r\n    //         a.download = `${this.state.report.name}.docx`\r\n    //         a.click()\r\n    //     })\r\n    // }\r\n\r\n    render() {\r\n        console.log(this.state)\r\n\r\n        var modal = (\r\n            <ModalRoot activeModal={this.state.activeModal}>\r\n                <ModalPage\r\n                    id='addelement'\r\n                    onClose={() => this.setState({activeModal: null})}\r\n                    settlingHeight={90}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            right={<HeaderButton onClick={() => this.setState({activeModal: null})}>{platform() === IOS ? 'Готово' : <Icon24Done />}</HeaderButton>}\r\n                        >\r\n                            Элементы\r\n                        </ModalPageHeader>\r\n                    }\r\n                > \r\n                    <List>\r\n                        {this.state.report.structureFrontend && this.state.report.structureFrontend.indexOf('h1') >= 0 && <Cell \r\n                            key='1'\r\n                            onClick={() => this.addNewElement('h1')}\r\n                        >\r\n                            Заголовок первого уровня\r\n                        </Cell>}\r\n                        {this.state.report.structureFrontend && this.state.report.structureFrontend.indexOf('h2') >= 0 && <Cell \r\n                            key='2'\r\n                            onClick={() => this.addNewElement('h2')}\r\n                        >\r\n                            Заголовок второго уровня\r\n                        </Cell>}\r\n                        {this.state.report.structureFrontend && this.state.report.structureFrontend.indexOf('h3') >= 0&& <Cell \r\n                            key='3'\r\n                            onClick={() => this.addNewElement('h3')}\r\n                        >\r\n                            Заголовок третьего уровня\r\n                        </Cell>}\r\n                        {this.state.report.structureFrontend && this.state.report.structureFrontend.indexOf('text') >= 0 && <Cell \r\n                            key='4'\r\n                            onClick={() => this.addNewElement('text')}\r\n                        >\r\n                            Абзац\r\n                        </Cell>}\r\n                    </List>\r\n                </ModalPage>\r\n                <ModalCard\r\n                    id='edit'\r\n                    onClose={() => {\r\n                        var {itemID, items, editItem} = this.state\r\n                        items[itemID] = editItem\r\n                        this.setState({activeModal: null, items: items})\r\n                    }}\r\n                    title='Изменение поля'\r\n                >\r\n                    {this.state.editItem && this.state.editItem.inputType === 'text' &&\r\n                        <Textarea \r\n                            value={this.state.editItem.value}\r\n                            onChange={(e) => {\r\n                                var {editItem} = this.state\r\n                                editItem.value = e.target.value \r\n                                this.setState({editItem: editItem})\r\n                            }}\r\n                        />\r\n                    }\r\n                    {this.state.editItem && this.state.editItem.inputType === 'string' &&\r\n                        <Input\r\n                            value={this.state.editItem.value}\r\n                            onChange={(e) => {\r\n                                console.log(e.target.value)\r\n                                var {editItem} = this.state\r\n                                editItem.value = e.target.value \r\n                                this.setState({editItem: editItem})\r\n                            }}\r\n                        />\r\n                    }\r\n                </ModalCard>\r\n            </ModalRoot>\r\n        )\r\n        \r\n        return(\r\n            <View id={this.props.id} activePanel={this.state.activePanel} popout={this.state.popout} modal={modal}>\r\n                <Panel id='main'>\r\n                    <PanelHeader\r\n                        left={<HeaderButton onClick={this.props.goTo}>\r\n                            {platform() === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n                            </HeaderButton>}\r\n                    >\r\n                        {this.state.report.name}\r\n                    </PanelHeader>\r\n                    <Group title='Описание'>\r\n                        <p>\r\n                            Для отчета необходимо загрузить файлы с кодом.\r\n                        </p>\r\n                        <p>\r\n                            Текст в отчете можно добавить кликнув на значок +\r\n                        </p>\r\n                    </Group>\r\n                    <Group title='Входные данные'>\r\n                        <Button size='xl' onClick={this.addElement}>Добавить элемент</Button>\r\n                        {this.state.report.structureFrontend && this.state.report.structureFrontend.indexOf('file_code') >= 0 &&\r\n                            <Input type='file' multiple onChange={(e) => this.uploadFiles(e.target.files)}/>\r\n                        }\r\n                    </Group>\r\n                    <Group title='Содержание отчета'>\r\n                        <List>\r\n                            <Cell key='-1'>Титульный лист</Cell>\r\n                            {this.state.items && this.state.items.length > 0 && this.state.items.map((value, index) => {\r\n                                return (\r\n                                    <Cell \r\n                                        onDragFinish={({ from, to }) => {\r\n                                            if(to === 0) {\r\n                                                to = 1\r\n                                            }\r\n                                            from --\r\n                                            to --\r\n                                            if(isNaN(to) || isNaN(from)) {\r\n                                                return\r\n                                            }\r\n                                            console.log(from, to)\r\n                                            var {items} = this.state\r\n                                            var item = items[from]\r\n                                            items[from] = items[to]\r\n                                            items[to] = item \r\n                                            this.setState({items: items})\r\n                                        }}\r\n                                        before={\r\n                                            <Div>\r\n                                                <Button disabled={!value.modify} style={{marginLeft: '5px'}} onClick={() => this.editElement(index)}>Edit</Button>\r\n                                                <Button style={{marginLeft: '5px'}} onClick={() => {\r\n                                                    var {items} = this.state \r\n                                                    console.log(index)\r\n                                                    console.log(items)\r\n                                                    items.splice(index, 1)\r\n                                                    console.log(items)\r\n                                                    this.setState({items: items})\r\n                                                }}>Del</Button>\r\n                                            </Div>\r\n                                        } \r\n                                        draggable\r\n                                        key={index}\r\n                                        description={value && value.description ? value.description : null}\r\n                                        \r\n                                    >{value.value}</Cell>\r\n                                )\r\n                            })}\r\n                        </List>\r\n                    </Group>\r\n                    <Button size='xl' onClick={this.loadReport}>\r\n                        Скачать готовый отчет\r\n                    </Button>\r\n                </Panel>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ReportDraggingList","import React from 'react'\r\nimport {View, Panel, PanelHeader, ScreenSpinner, List, Cell, Group, platform, IOS, HeaderButton, Input} from '@vkontakte/vkui'\r\n\r\nimport ReportDraggingList from './Report/ReportDraggingList'\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\n\r\n\r\nclass Reports extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activePanel: 'reports',\r\n            reports: [],\r\n            popout: <ScreenSpinner />,\r\n            isFetching: false,\r\n            reportID: null,\r\n            error: false\r\n        }\r\n\r\n        //this.goTo = this.goTo.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({popout: <ScreenSpinner />})\r\n        fetch(sessionStorage.getItem('address') + '/api/v0/allreports', {\r\n            method: 'GET',\r\n            headers: {\r\n                'tehnarenok-token': sessionStorage.getItem('token')\r\n            }\r\n        }).then(data => {\r\n            return data.json()\r\n        }).then(data => {\r\n            this.setState({reports: data.reports, popout: null})\r\n        })\r\n    }\r\n\r\n    onRefresh = () => {\r\n        this.setState({popout: <ScreenSpinner />})\r\n        fetch(sessionStorage.getItem('address') + '/api/v0/allreports', {\r\n            method: 'GET',\r\n            headers: {\r\n                'tehnarenok-token': sessionStorage.getItem('token')\r\n            }\r\n        }).then(data => {\r\n            return data.json()\r\n        }).then(data => {\r\n            console.log(data)\r\n            if(data.error) {\r\n                this.setState({activePanel: 'error'})\r\n                return\r\n            }\r\n            this.setState({popout: null, reports: data.reports})\r\n        })\r\n    }\r\n\r\n    onClickReport = (reportID, type) => {\r\n        switch (type) {\r\n            case 'draggingList':\r\n                this.setState({activePanel: 'reportdragginglist', reportID: reportID})\r\n                break\r\n            default:\r\n                this.setState({activePanel: 'reportlab2', reportID: reportID})\r\n                break\r\n        }\r\n    }\r\n\r\n    goTo = (activePanel) => {\r\n        console.log('goTo')\r\n        this.setState({activePanel: activePanel})\r\n    }\r\n\r\n    loadReport = (files) => {\r\n        console.log(files);\r\n        var formdata = new FormData()\r\n        formdata.append('file', files[0])\r\n        fetch(`${sessionStorage.getItem('address')}/api/v1/report/${this.state.reportID}/createreport`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'tehnarenok-token': sessionStorage.getItem('token'),\r\n            },\r\n            body: formdata\r\n        }).then(data => {\r\n            return data.blob()\r\n        }).then(data => {\r\n            console.log(data)\r\n            let url = window.URL.createObjectURL(data)\r\n            console.log(url)\r\n            let a = document.createElement('a')\r\n            a.href = url\r\n            a.download = `лаба.docx`\r\n            a.click()\r\n        })\r\n    }\r\n\r\n    render() {\r\n        //console.log(this.props)\r\n        console.log(this.state)\r\n        if(this.state.activePanel === 'reportdragginglist') {\r\n            return (\r\n                <ReportDraggingList id='reportdragginglist' reportID={this.state.reportID} goTo={() => this.setState({activePanel: 'reports'})}/>\r\n            )\r\n        }\r\n        if(this.state.activePanel === 'reportlab2') {\r\n            return (\r\n                //<View id={this.props.id} activePanel='main'>\r\n                    <Panel id={this.props.id}>\r\n                        <Input type='file' onChange={(e) => this.loadReport(e.target.files)} accept=\"image/png\"/>\r\n                    </Panel>\r\n                //</View>\r\n            )\r\n        }\r\n        return (\r\n            <View id={this.props.id} activePanel={this.state.activePanel} popout={this.state.popout}>\r\n                <Panel id='reports'>\r\n                    <PanelHeader\r\n                        left={<HeaderButton onClick={() => console.log('test')}><Icon24Back /></HeaderButton>}\r\n                    >\r\n                        Отчеты\r\n                    </PanelHeader>\r\n                    <Group>\r\n                        <List>\r\n                            {this.state.reports && this.state.reports.length > 0 && this.state.reports.map((value) => {\r\n                                return (\r\n                                    <Cell \r\n                                        key={value._id} \r\n                                        description={value.discription}\r\n                                        onClick={() => this.onClickReport(value._id, value.structureID)}\r\n                                    >{value.name}</Cell>\r\n                                )\r\n                            })}\r\n                        </List>\r\n                    </Group>\r\n                </Panel>\r\n                <Panel id='error'>\r\n                    <PanelHeader\r\n                        left={<HeaderButton onClick={() => this.setState({activePanel: 'reports'})}>{platform() === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}\r\n                    >\r\n                        Ошибка\r\n                    </PanelHeader>\r\n                </Panel>\r\n                \r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Reports","import React from 'react'\r\n\r\nimport {View, Panel, Epic, Tabbar, TabbarItem, PanelHeader} from '@vkontakte/vkui'\r\n\r\nimport Icon24Note from '@vkontakte/icons/dist/24/note';\r\nimport Icon24Settings from '@vkontakte/icons/dist/24/settings';\r\nimport Icon24LogoLivejournal from '@vkontakte/icons/dist/24/logo_livejournal';\r\n\r\nimport Reports from './Reports'\r\n\r\nclass Home extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            activeStory: 'reports',\r\n            superuser: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(`${sessionStorage.getItem('address')}/api/v0/superuser`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'tehnarenok-token': sessionStorage.getItem('token')\r\n            }\r\n        }).then(data => {\r\n            return data.json()\r\n        }).then(data => {\r\n            this.setState({superuser: data.superuser})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        var textView = false;\r\n        return (\r\n            <Epic id={this.props.id} activeStory={this.state.activeStory} tabbar ={\r\n                <Tabbar>\r\n                    <TabbarItem\r\n                        onClick={() => this.setState({activeStory: 'reports'})}\r\n                        selected={this.state.activeStory === 'reports'}\r\n                        text={textView ? 'Отчеты' : null }\r\n                    >\r\n                        <Icon24Note />\r\n                    </TabbarItem>\r\n\r\n                    {this.state.superuser && \r\n                        <TabbarItem\r\n                            onClick={() => this.setState({activeStory: 'admin'})}\r\n                            selected={this.state.activeStory === 'admin'}\r\n                            text={textView ? 'Управление' : null }\r\n                        >\r\n                            <Icon24LogoLivejournal/>\r\n                        </TabbarItem>\r\n                    }\r\n                    \r\n                    <TabbarItem \r\n                        onClick={() => this.setState({activeStory: 'settings'})}\r\n                        selected={this.state.activeStory === 'settings'}\r\n                        text={textView ? 'Настройки' : null }\r\n                    >\r\n                        <Icon24Settings />\r\n                    </TabbarItem>\r\n\r\n                    \r\n                </Tabbar>\r\n            }>\r\n                <Reports id='reports' />\r\n                <View id='settings' activePanel='settings'>\r\n                    <Panel id='settings'>\r\n                        <PanelHeader>\r\n                            Настройки\r\n                        </PanelHeader>\r\n                    </Panel>\r\n                </View>\r\n\r\n                <View id='admin' activePanel='admin'>\r\n                    <Panel id='admin'>\r\n                        <PanelHeader>\r\n                            Управление\r\n                        </PanelHeader>\r\n                    </Panel>\r\n                </View>\r\n            </Epic>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Home","import React from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport { View, Panel, ScreenSpinner, PanelHeader } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport FirstLogin from './panels/FirstLogin'\nimport Home from './panels/Home'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'black',\n\t\t\tfetchedUser: null,\n\t\t\tpopout: <ScreenSpinner />,\n\t\t\ttoken: null\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconnect.sendPromise('VKWebAppGetUserInfo', {})\n\t\t\t.then(data => {\n\t\t\t\tthis.setState({ fetchedUser: data})\n\t\t\t\tfetch(sessionStorage.getItem('address') + `/api/v0/gettoken?userid=${this.state.fetchedUser.id}`, {\n\t\t\t\t\tmethod: 'GET',\n\t\t\t\t}).then(data => {\n\t\t\t\t\treturn data.json()\n\t\t\t\t}).then(data => {\n\t\t\t\t\tif(data.token) {\n\t\t\t\t\t\tsessionStorage.setItem('token', data.token)\n\t\t\t\t\t\t//console.log(sessionStorage.getItem('token'))\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tactivePanel: 'home',\n\t\t\t\t\t\t\tpopout: null,\n\t\t\t\t\t\t\ttoken: data.token\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tactivePanel: 'firstlogin',\n\t\t\t\t\t\t\tpopout: null\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error)\n\t\t\t})\n\t\t// connect.sendPromise('VKWebAppGetAuthToken', {app_id: 7156583, scope: 'docs'})\n\t\t// \t.then(data => {\n\t\t// \t\tsessionStorage.setItem('VKtoken', data.access_token)\n\t\t// \t\tconsole.log(sessionStorage.getItem('VKtoken'))\n\t\t// \t})\n\t\t// \t.catch(error => {\n\t\t// \t\tconsole.log(error);\n\t\t// \t\tthis.setState({activePanel: 'black'})\t\n\t\t// \t})\n\t\t\n\t}\n\n\tgo = (panel) => {\n\t\tthis.setState({\n\t\t\tpopout: null,\n\t\t\tactivePanel: panel\n\t\t})\n\t}\n\n\trender() {\n\t\tconsole.log(this.state)\n\t\treturn (\n\t\t\t<View activePanel={this.state.activePanel} popout={this.state.popout}>\n\t\t\t\t<Panel id='black'> </Panel>\n\t\t\t\t<FirstLogin id='firstlogin' go={this.go} />\n\t\t\t\t<Home id='home' />\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\nsessionStorage.setItem('address', 'https://d6efb9d1.ngrok.io')\n\nconnect.subscribe((e) => {\n    switch (e.detail.type) {\n        case 'VKWebAppUpdateConfig':\n            let schemeAttribute = document.createAttribute('scheme');\n            schemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n            document.body.attributes.setNamedItem(schemeAttribute);\n            break;\n \n        default:\n            //console.log(e.detail.type);\n    }\n });\n\n// connect.sendPromise('VKWebAppGetAuthToken', {app_id: 7156583, scope: 'docs'})\n//     .then(data => {\n//         sessionStorage.setItem('VKtoken', data.access_token)\n//         console.log(sessionStorage.getItem('VKtoken'))\n//     })\n//     .catch(error => {\n//         console.log(error);\n//         this.setState({activePanel: 'black'})\t\n//     })\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}